(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{8818:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/transactions/details/cancel/[oId]",function(){return n(6914)}])},6914:function(t,e,n){"use strict";n.r(e);var r=n(4051),i=n.n(r),o=n(5893),c=n(9008),a=n.n(c),s=n(8853),d=n(7294),l=n(1163),u=n(2882),h=n(7906),x=n(3184),f=n(3816),p=n(3252),j=n(295),Z=n(8462),m=n(1057),g=n(8273),v=n(5861),y=n(9520),b=n(6886),w=n(6242),P=n(8445),W=n(7720),_=n(6225),C=n(7357),I=n(8586);function N(t,e,n,r,i,o,c){try{var a=t[o](c),s=a.value}catch(d){return void n(d)}a.done?e(s):Promise.resolve(s).then(r,i)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function c(t){N(o,r,i,c,a,"next",t)}function a(t){N(o,r,i,c,a,"throw",t)}c(void 0)}))}}function B(){var t=(0,l.useRouter)(),e=t.query.oId,n="https://soleauthenticity.azurewebsites.net/api/order-details/".concat(e),r="https://soleauthenticity.azurewebsites.net/api/orders/staff/".concat(e),c=(0,d.useState)(!1),s=c[0],N=c[1],B=(0,d.useState)([]),O=B[0],S=B[1],E=(0,d.useState)(),T=E[0],D=E[1],q=(0,d.useState)([]),z=q[0],A=q[1];console.log(A),(0,d.useEffect)((function(){if(t.asPath!==t.route){var e=function(){var t=k(i().mark((function t(){var e,o,c,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return e=t.sent,t.next=5,e.json();case 5:return o=t.sent,S(o.data),t.next=9,fetch(r);case 9:return c=t.sent,t.next=12,c.json();case 12:a=t.sent,D(a.data),N(!0);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}}),[t.asPath,t.route]);var F=function(){var t=k(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,fetch("https://soleauthenticity.azurewebsites.net/api/orders/order/cancel/"+e+"?staffId=3",{method:"PUT",body:JSON.stringify({})});case 3:n=t.sent,location.reload(),console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a(),{children:(0,o.jsx)("title",{children:"Order Detail - Cancel"})}),(0,o.jsx)(g.Z,{children:(0,o.jsx)(v.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Check information again, before cancel the order!!!"})}),(0,o.jsx)(y.Z,{maxWidth:"lg",children:(0,o.jsx)(b.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,o.jsx)(b.ZP,{item:!0,xs:12,children:(0,o.jsx)(w.Z,{children:(0,o.jsxs)(w.Z,{children:[(0,o.jsx)(P.Z,{title:"All Order Detail"}),(0,o.jsx)(W.Z,{}),(0,o.jsxs)(u.Z,{children:[(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(x.Z,{children:(0,o.jsxs)(f.Z,{children:[(0,o.jsx)(p.Z,{children:"OrderDetailId"}),(0,o.jsx)(p.Z,{children:"OrderId"}),(0,o.jsx)(p.Z,{children:"Code"}),(0,o.jsx)(p.Z,{children:"ProductId"}),(0,o.jsx)(p.Z,{children:"ProductName"}),(0,o.jsx)(p.Z,{children:"Quantity"}),(0,o.jsx)(p.Z,{children:"Price"})]})}),(0,o.jsx)(j.Z,{children:null===O||void 0===O?void 0:O.map((function(t){var e=z.includes(t.id);return(0,o.jsxs)(f.Z,{hover:!0,selected:e,children:[(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.id})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.orderId})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.code})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.productId})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.productName})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.quantity})}),(0,o.jsx)(p.Z,{children:(0,o.jsx)(v.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.price})})]},t.id)}))}),(0,o.jsx)(f.Z,{children:(0,o.jsxs)(v.Z,{variant:"h4",component:"h4",gutterBottom:!0,padding:2,children:["Total Price: ",T.totalPrice]})})]}),(0,o.jsxs)(Z.Z,{component:C.Z,display:"flex",width:200,justifyContent:"space-between",children:[(0,o.jsx)(m.Z,{variant:"contained",onClick:function(){return F(T.id)},component:I.C,href:"/management/transactions",children:"Cancel"}),(0,o.jsx)(m.Z,{variant:"contained",href:"/management/transactions",children:"Return"})]})]})]})})})})}),(0,o.jsx)(_.Z,{})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(_.Z,{})})})}B.getLayout=function(t){return(0,o.jsx)(s.Z,{children:t})},e.default=B},6225:function(t,e,n){"use strict";var r=n(5893),i=n(948),o=n(9520),c=n(7357),a=n(5861),s=(0,i.ZP)(o.Z)((function(t){var e=t.theme;return"\n        margin-top: ".concat(e.spacing(4),";\n")}));e.Z=function(){return(0,r.jsx)(s,{className:"footer-wrapper",children:(0,r.jsx)(c.Z,{pb:4,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(a.Z,{variant:"subtitle1",children:"\xa9 2023 - SoleAuthenticity Staff Dashboard"})})})})}},8273:function(t,e,n){"use strict";var r=n(5893),i=n(5697),o=n.n(i),c=n(948),a=n(7357),s=n(9520),d=(0,c.ZP)(a.Z)((function(t){var e=t.theme;return"\n        padding: ".concat(e.spacing(4),";\n")})),l=function(t){var e=t.children;return(0,r.jsx)(d,{className:"MuiPageTitle-wrapper",children:(0,r.jsx)(s.Z,{maxWidth:"lg",children:e})})};l.propTypes={children:o().node.isRequired},e.Z=l}},function(t){t.O(0,[173,472,193,976,422,835,853,774,888,179],(function(){return e=8818,t(t.s=e);var e}));var e=t.O();_N_E=e}]);